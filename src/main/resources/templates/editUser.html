<!DOCTYPE html>
<html lang="ru" data-bs-theme="dark"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Редактирование лота в системе "Аукцион58"</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            /*background-color: #222 !important;*/
            margin-top: 40px;
        }

    </style>
</head>

<body class="bg-dark text-light">
<div th:include="blocks/header.html :: header"></div>
<div class="container py-4">
    <h1 class="text-center">Редактировать данные пользователя</h1>
    <form th:action="@{'/admin-panel/' + ${user.getId()}}" th:object="${userForm}" id="userForm" method="post" enctype="multipart/form-data">
        <input type="hidden" name="_method" value="patch">

        <div th:if="${#fields.hasErrors('username')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('username')}"></li>
                </ul>
            </div>
        </div>
        <label for="username">Логин: </label>
        <input type="text" name="username" id="username" th:value="${userForm.username}"/><br/>

        <div th:if="${#fields.hasErrors('fullName')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('fullName')}"></li>
                </ul>
            </div>
        </div>
        <label for="fullName">Ваше имя: </label>
        <input type="text" name="fullName" id="fullName" th:value="${userForm.fullName}"/><br/>

        <div th:if="${#fields.hasErrors('street')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('street')}"></li>
                </ul>
            </div>
        </div>
        <label for="street">Улица: </label>
        <input type="text" name="street" id="street" th:value="${userForm.street}"/><br/>

        <div th:if="${#fields.hasErrors('city')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('city')}"></li>
                </ul>
            </div>
        </div>
        <label for="city">Город: </label>
        <input type="text" name="city" id="city" th:value="${userForm.city}"/><br/>

        <div th:if="${#fields.hasErrors('state')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('state')}"></li>
                </ul>
            </div>
        </div>
        <label for="state">Область: </label>
        <input type="text" name="state" id="state" th:value="${userForm.state}"/><br/>

        <div th:if="${#fields.hasErrors('zip')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('zip')}"></li>
                </ul>
            </div>
        </div>
        <label for="zip">Индекс: </label>
        <input type="text" name="zip" id="zip" th:value="${userForm.zip}"/><br/>

        <div th:if="${#fields.hasErrors('phone')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('phone')}"></li>
                </ul>
            </div>
        </div>
        <label for="phone">Телефон (+7...): </label>
        <input type="text" name="phone" id="phone" th:value="${userForm.phone}"/><br/>
        <div th:if="${#fields.hasErrors('photo')}" class="error-message">
            <div class="alert alert-danger" role="alert">
                <ul>
                    <li th:text="${#fields.errors('photo')}"></li>
                </ul>
            </div>
        </div>
        <label for="photo">Фото: </label>
        <input type="file" name="photo" id="photo" /><br/> <!-- Поле для загрузки фото -->

        <button type="submit" class="btn btn-primary">Сохранить</button>
    </form>
</div>
</body>
</html>
